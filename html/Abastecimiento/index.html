<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Abastecimiento de MMPP - Gestión de Proveedores</title>
  <!-- Materialize CSS + Iconos + Tu CSS -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"/>
  <link rel="stylesheet" href="/css/abastecimiento.css" />
</head>
<body>
  <!-- NAV -->
  <nav class="teal darken-2">
    <div class="nav-wrapper">
      <a href="/index.html" class="btn-flat left" title="Volver">
        <i class="material-icons">arrow_back</i>
      </a>
      <a href="#" class="brand-logo center">Abastecimiento de Materias Primas</a>
    </div>
  </nav>

  <div class="container" style="margin-top:1.3rem;">
    <!-- Pestañas -->
    <ul id="tabs-abastecimiento" class="tabs">
      <li class="tab col s4"><a class="active" href="#tab-contactos">Contactos</a></li>
      <!-- Futuras pestañas -->
      <li class="tab col s4"><a href="#tab-agenda">Agenda</a></li>
      <li class="tab col s4"><a href="#tab-gestion">Gestión</a></li>
    </ul>

    <!-- TAB: Contactos -->
    <div id="tab-contactos" class="col s12">
      <div id="contactosTabBody"></div>
    </div>
    <!-- TAB: Agenda (placeholder por ahora) -->
    <div id="tab-agenda" class="col s12" style="min-height:300px;">
      <div class="section">
        <h5>Agenda</h5>
        <p>Muy pronto podrás gestionar tu agenda de visitas y llamados desde aquí.</p>
      </div>
    </div>
    <!-- TAB: Gestión (placeholder por ahora) -->
    <div id="tab-gestion" class="col s12" style="min-height:300px;">
      <div class="section">
        <h5>Gestión</h5>
        <p>En este espacio tendrás métricas y análisis de tus contactos.</p>
      </div>
    </div>
  </div>

  <!-- Materialize JS y tus scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <!-- Modular: Contactos -->
  <script type="module">
    import { initContactosTab } from '/js/abastecimiento/contactos/contactos.js';

    document.addEventListener('DOMContentLoaded', function () {
      // Inicia pestañas Materialize
      const elTabs = document.querySelectorAll('.tabs');
      M.Tabs.init(elTabs);

      // Carga la vista de contactos al cargar la página
      initContactosTab();

      // También la puedes recargar si vuelves a la pestaña:
      document.querySelector('a[href="#tab-contactos"]').addEventListener('click', initContactosTab);
    });
  </script>
</body>
</html>
