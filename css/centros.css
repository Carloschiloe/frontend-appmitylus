/* ==============================
   CENTROS – Overrides sobre global
   ============================== */

/* Cabezal de la tabla Centros con color institucional */
#centrosTable.dataTable thead th{
  background: var(--primary) !important; /* teal oscuro */
  color:#fff !important;
}

/* Densidad un pelo más compacta (opcional) */
#centrosTable,
#centrosTable th,
#centrosTable td{
  font-size: 0.92em !important;
  padding: 0.26em 0.48em !important;
}

/* Columna Proveedor (1ª): permite salto de línea + límites */
#centrosTable th:first-child,
#centrosTable td:first-child{
  white-space: normal !important;
  word-break: break-word !important;
  max-width: 420px !important;
  min-width: 100px !important;
}

/* Segunda columna: capitalizar (si tu data viene en minúsculas) */
#centrosTable th:nth-child(2),
#centrosTable td:nth-child(2){
  text-transform: capitalize !important;
}

/* Columna de acciones al final sin quiebre */
#centrosTable td:last-child{
  white-space: nowrap !important;
  text-align: left;
}

/* Íconos en tabla principal y filas hijas */
#centrosTable td .material-icons,
.child-row-lineas td .material-icons{
  font-size: 1.1em;
  margin-right: 6px;
}
#centrosTable td .material-icons:hover,
.child-row-lineas td .material-icons:hover{
  color: var(--primary-acc);
  transform: translateY(-1px);
}

/* ----------- CHILD-ROW: LÍNEAS (solo estilos propios) ----------- */
.child-row-lineas{
  width: 100% !important;
  padding: 14px 12px 10px 20px !important;
  background: #f7faf9;
  border-bottom: 2px solid #b2dfdb;
  box-shadow: 0 2px 14px 0 rgba(0,150,136,0.1);
  border-radius: 0 0 16px 16px;
}
.child-table-lineas{
  width:100% !important;
  background: transparent !important; /* deja ver el fondo verdoso */
  border-collapse: collapse !important;
  table-layout: auto !important;
}
.child-table-lineas th{
  background:#e0f2f1 !important;
  color:#004d40 !important;
  font-weight:700 !important;
  padding: .18rem .13rem !important;
  border-bottom:1px solid #b2dfdb !important;
  text-align:center; white-space:nowrap !important;
}
.child-table-lineas th,
.child-table-lineas td{
  padding:.15rem .1rem !important;
  font-size:.94em !important;
  border-bottom:1px solid #eee;
  text-align:center; white-space:nowrap !important;
}
.child-table-lineas input,
.child-table-lineas select{
  width:92%;
  font-size:.93em; padding:2px 4px; margin:0;
  border:1px solid #bdbdbd; border-radius:3px;
}

/* ----------- MAPA (shell + fullscreen + sidebar propia) ----------- */
#mapShell{
  flex:1; position:relative;
  border:1px solid #ddd; border-radius:7px;
  background:#d8d8d8; overflow:hidden;
}
#map, #map.leaflet-container{
  width:100% !important; height:100% !important;
  min-height:400px; background:#d8d8d8;
}
#map:focus-visible{
  outline:2px solid #26a69a; outline-offset:2px;
}

/* Fullscreen limpio */
:fullscreen #mapShell, #mapShell:fullscreen{
  width:100vw; height:100vh; margin:0; padding:0; border-radius:0;
}
:fullscreen #map, #map:fullscreen{
  width:100vw; height:100vh; margin:0; padding:0;
}
body:has(#mapShell:fullscreen){ overflow:hidden; }

/* Sidebar de centros (si la usas) */
.sidebar-centros{
  position:absolute; top:28px; left:28px; width:260px;
  background:#fff; box-shadow:0 2px 12px rgba(0,0,0,.14);
  border-radius:10px; z-index:800; padding:12px 12px 8px;
}
.sidebar-centros.minimized{ left:-230px; width:30px; }
.sidebar-list{ margin:0; padding:0; list-style:none; max-height:250px; overflow-y:auto; }
.sidebar-list li{ cursor:pointer; padding:7px 0; border-bottom:1px solid #eee; font-size:15px; }
.sidebar-list li.selected{ background:#e0f2f1; font-weight:700; }

/* Responsive específicos de esta vista */
@media (max-width: 900px){
  #centrosTable, #centrosTable_wrapper{ display:block !important; min-width:360px !important; }
  .dataTables_paginate{ justify-content:center; }
  #mapShell{ min-height:220px !important; height:54vh; }
  #map{ min-height:220px !important; height:52vh !important; }
}
@media (max-width: 700px){
  .sidebar-centros{ top:12px; left:12px; width:92vw; }
  .sidebar-centros.minimized{ left:-90vw; width:35px; }
}
@media (max-width: 600px){
  #mapShell, #map{ min-height:160px !important; height:41vh !important; }
}
